(function(a,b){a.extend(a.ui.tabs.prototype.options,{effect:"none",speed:"slow",perItem:1,scrollType:"fill",easing:"swing",subLength:null,direction:"left"});a.extend(a.ui.tabs.prototype,{_initBox:function(c){if(this.options.effect==="scroll"){this._initScroll(c)}else{this._effectNone(c)}},_setBox:function(c,e){var d=this;if(a.isFunction(d.options.effect)){d.options.effect.call(d.boxes[c],c)}else{switch(d.options.effect){case"none":d._effectNone(c);break;case"scroll":d._effectScroll(c,e);break;case"fade":d._effectFade(c);break;default:d._effectNone(c)}}},_initScroll:function(c){var d=this._getPerLength(),f=this._getBoxesParent().parent(),g=c*d;this._trigger("select",null,{index:c,box:e});if(this._isHorizontal()){f.scrollLeft(g)}else{f.scrollTop(g)}var e=this._getScrollBoxes();this._trigger("show",null,{index:c,box:e});this._lazyScrollImg(e);this._lazyScrollHtml(e)},_effectScroll:function(l,h){var m=this,n=m.options,g=m._getPerLength(),k=m._getBoxesParent().parent(),j=n.direction,d=m.boxes.length,f,e,c=l,i=m.index;if(n.scrollType==="loop"){c=h}f=(c-i)*g;if(j==="right"||j==="down"){e="-="+f+"px"}else{e="+="+f+"px"}if(m._isHorizontal()){m._setLoopScrollOffset("scrollLeft",c,f);k.animate({scrollLeft:e},n.speed,n.easing,function(){var o=m._getScrollBoxes();m._trigger("show",null,{index:l,box:o});m._lazyScrollImg(o);m._lazyScrollHtml(o);m._autoPlay(1)})}else{m._setLoopScrollOffset("scrollTop",c,f);k.animate({scrollTop:e},n.speed,n.easing,function(){var o=m._getScrollBoxes();m._trigger("show",null,{index:l,box:o});m._lazyScrollImg(o);m._lazyScrollHtml(o);m._autoPlay(1)})}},_setLoopScrollOffset:function(f,e,d){if(this.options.scrollType==="loop"){var h=this.index,i=this._getBoxesParent().parent(),g=i[f](),c=this._getPrimalSize();if(e>h&&g>=c){i[f](g-c)}if(e<h&&g<Math.abs(d)){i[f](g+c)}}},_effectFade:function(c){var d=this,e=a(d.boxes[c]);d.boxes.hide();a(e).fadeIn(d.options.speed,function(){d._trigger("show",null,{index:c,box:e});d._autoPlay(1)})},_setEffectStyle:function(){if(this.options.effect==="scroll"){var d=this._getPerLength()*this.index,c=this._getBoxesParent().parent();if(this._isHorizontal()){this._setOffset("width");c.scrollLeft(d)}else{this._setOffset("height");c.scrollTop(d)}this._setSubLength();this._setPerItem();this._setBoxes()}},_setOffset:function(g){var c=this._getPrimalBoxes(),d=this._getBoxesParent(),f=c.length*this._getSubLength(),e=this._getTeamCount()*this._getPerLength();switch(this.options.scrollType){case"loop":d.append(c.clone(true));d.css(g,f*2);break;case"break":d.css(g,f);break;default:d.css(g,e)}},_getPrimalSize:function(){var c=this._getPrimalBoxes().length*this._getSubLength();this._getPrimalSize=function(){return c};return c},_getPrimalBoxes:function(){var c=this.element.find(this.options.boxSelector);this._getPrimalBoxes=function(){return c};return c},_getBoxesParent:function(){var c=this._getPrimalBoxes(),d=c.parent();this._getBoxesParent=function(){return d};return d},_getTeamCount:function(){var c=this._getPrimalBoxes(),d=Math.ceil(c.length/this.options.perItem);this._getTeamCount=function(){return d};return d},_setBoxes:function(){if(this.options.perItem>1){var c=this.options.perItem,e=this._getPrimalBoxes(),g=this._getTeamCount(),f=[];for(var d=0;d<g;d++){f[d]=e.slice(d*c,(d+1)*c)}this.boxes=f}},_isHorizontal:function(){var c=this.options;switch(c.direction){case"left":return true;break;case"right":return true;break;case"up":return false;break;case"down":return false;break;default:c.direction="left";return true}},_getSubLength:function(){var e=this._isHorizontal(),c=this.options,d;if(c.subLength){d=c.subLength}else{if(e){d=this.boxes.eq(0).outerWidth()}else{d=this.boxes.eq(0).outerHeight()}}this._getSubLength=function(){return d};return d},_getPerLength:function(){var e=this._getSubLength(),d=this.options,c;c=e*d.perItem;this._getPerLength=function(){return c};return c},_setSubLength:function(){this.subLength=(this.subLength&&this._isNumber(this.subLength))?this.subLength:null},_setPerItem:function(){this.perItem=(this._isNumber(this.perItem))?this.perItem:1},_getScrollBoxes:function(){var e=this.element.find(this.options.boxSelector),k=this._getBoxesParent().parent(),c=this._getSubLength(),j,h,f,l,d,g=a();if(this._isHorizontal()){j=k.scrollLeft();h=k.width()}else{j=k.scrollTop();h=k.height()}f=(j>0)?Math.ceil(j/c):0;d=(this.options.isPreLoad===true)?2:1;l=f+(Math.ceil(h/c))*d;for(f;f<l;f++){g=g.add(e.eq(f))}return g},_isNumber:function(c){return(c-0)==c&&c.length>0}})})(jQuery);
