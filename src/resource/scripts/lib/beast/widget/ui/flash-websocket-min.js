("websocket" in jQuery.ui.flash)||(function(b){var c=b.util;function a(){var f=this,e=f.element[0].id,g=f.options,d=g.swf||"http://img.china.alibaba.com/swfapp/websocket/websocket-20111121.swf";g=f.options=b.extend(true,{swf:d,allowScriptAccess:"always",flashvars:{debug:false,eventHandler:"jQuery.util.flash.triggerHandler"}},g);b.extend(f,{_getFlashConfigs:function(){var h=this,i;i=b.ui.flash.prototype._getFlashConfigs.call(h);i.flashvars.swfid=e;return i},send:function(h){if(this.readyState===2){return}try{this.callMethod("send",h)}catch(i){b.log("send msg is error "+i.message)}},open:function(h){try{this.obj.setCallerUrl(location.href);this.obj.create(h.url,h.protocal)}catch(i){b.log("setCallerUrl or create websocket error is "+i.message)}},close:function(){this.obj.close()},getReadyState:function(){return this.obj.getReadyState()}});return true}c.flash.regist("websocket",a);b.add("ui-flash-websocket")})(jQuery);